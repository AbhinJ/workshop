<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>13. Appendix: Workshop Solutions &#8212; Workshop - FOSS4G 2018 Dar Es Salaam - Routing with pgRouting</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="14. Appendix: Installation" href="additional_installation.html" />
    <link rel="prev" title="12. Create a Network Topology" href="topology.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/pgrouting.png"></span>
          Workshop FOSS4G Dar Es Salaam</a>
        <span class="navbar-text navbar-version pull-left"><b>2.5</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Chapters <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">2. About The Workshop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#pgrouting-overview">2.1. pgRouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#osm2pgrouting-overview">2.2. osm2pgrouting Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#openstreetmap-overview">2.3. OpenStreetMap Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">3. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#osgeo-live-on-a-virtualbox">3.1. OSGeo Live on a virtualBox</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="prepare_data.html">4. Prepare Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prepare_data.html#prepare-the-database">4.1. Prepare the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepare_data.html#get-the-workshop-data">4.2. Get the Workshop Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepare_data.html#upload-data-to-the-database">4.3. Upload Data to the database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="shortest_path.html">5. pgRouting Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="shortest_path.html#pgr-dijkstra">5.1. pgr_dijkstra</a></li>
<li class="toctree-l2"><a class="reference internal" href="shortest_path.html#pgr-dijkstracost">5.2. pgr_dijkstraCost</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">6. Advanced Routing Queries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#routing-for-vehicles">6.1. Routing for Vehicles</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#cost-manipulations">6.2. Cost Manipulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SQLfunction.html">7. Writing a SQL Stored Procedures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SQLfunction.html#the-application-requirements">7.1. The application requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="SQLfunction.html#geometry-handling">7.2. Geometry handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="SQLfunction.html#creating-a-function">7.3. Creating a Function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="function.html">8. Writing a pl/pgsql Stored Procedures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="function.html#requirements-for-routing-from-a-to-b">8.1. Requirements for Routing from A to B</a></li>
<li class="toctree-l2"><a class="reference internal" href="function.html#the-vertex-table">8.2. The Vertex Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="function.html#wrk-fromatob-function">8.3. wrk_fromAtoB function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usingQgis.html">9. Using Qgis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usingQgis.html#set-up-qgis">9.1. Set Up QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="usingQgis.html#add-a-postgis-layer">9.2. Add a postGIS Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="usingQgis.html#format-a-routing-layer">9.3. Format a Routing Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="usingQgis.html#copy-paste-format">9.4. Copy/Paste Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="usingQgis.html#save-the-project">9.5. Save the project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geoserver.html">10. WMS server with GeoServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="geoserver.html#connect-to-the-administration-page">10.1. Connect to the administration page</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoserver.html#create-the-layer">10.2. Create the layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ol_client.html">11. OpenLayers Based Routing Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ol_client.html#openlayers-introduction">11.1. OpenLayers introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ol_client.html#creating-a-minimal-map">11.2. Creating a minimal map</a></li>
<li class="toctree-l2"><a class="reference internal" href="ol_client.html#wms-get-parameters">11.3. WMS GET parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="ol_client.html#select-start-and-destination">11.4. Select “start” and “destination”</a></li>
<li class="toctree-l2"><a class="reference internal" href="ol_client.html#clear-the-results">11.5. Clear the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="ol_client.html#summary-full-example">11.6. Summary (full example)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="topology.html">12. Create a Network Topology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="topology.html#load-network-data">12.1. Load network data</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology.html#create-a-routing-network-topology">12.2. Create a Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology.html#verify-the-routing-network-topology">12.3. Verify the Routing Network Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology.html#analyze-and-adjust-the-routing-network-topology">12.4. Analyze and Adjust the Routing Network Topology</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">13. Appendix: Workshop Solutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pgrouting-algorithms-solutions">13.1. <code class="docutils literal notranslate"><span class="pre">pgRouting</span> <span class="pre">Algorithms</span></code> Solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-routing-queries-solutions">13.2. <code class="docutils literal notranslate"><span class="pre">Advanced</span> <span class="pre">Routing</span> <span class="pre">Queries</span></code> Solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solutions-to-writing-a-sql-stored-procedures-chapter">13.3. Solutions to <code class="docutils literal notranslate"><span class="pre">Writing</span> <span class="pre">a</span> <span class="pre">SQL</span> <span class="pre">Stored</span> <span class="pre">Procedures</span></code> Chapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solutions-to-writing-a-pl-pgsql-stored-procedures-chapter">13.4. Solutions to <code class="docutils literal notranslate"><span class="pre">Writing</span> <span class="pre">a</span> <span class="pre">pl/pgsql</span> <span class="pre">Stored</span> <span class="pre">Procedures</span></code> Chapter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="additional_installation.html">14. Appendix: Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="osm2pgrouting.html">15. Appendix: osm2pgrouting Import Tool</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">13. Appendix: Workshop Solutions</a><ul>
<li><a class="reference internal" href="#pgrouting-algorithms-solutions">13.1. <code class="docutils literal notranslate"><span class="pre">pgRouting</span> <span class="pre">Algorithms</span></code> Solutions</a><ul>
<li><a class="reference internal" href="#solution-to-exercise-1">13.1.1. Solution to Exercise 1</a></li>
<li><a class="reference internal" href="#solution-to-exercise-2">13.1.2. Solution to Exercise 2</a></li>
<li><a class="reference internal" href="#solution-to-exercise-3">13.1.3. Solution to Exercise 3</a></li>
<li><a class="reference internal" href="#solution-to-exercise-4">13.1.4. Solution to Exercise 4</a></li>
<li><a class="reference internal" href="#solution-to-exercise-5">13.1.5. Solution to Exercise 5</a></li>
<li><a class="reference internal" href="#solution-to-exercise-6">13.1.6. Solution to Exercise 6</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-routing-queries-solutions">13.2. <code class="docutils literal notranslate"><span class="pre">Advanced</span> <span class="pre">Routing</span> <span class="pre">Queries</span></code> Solutions</a><ul>
<li><a class="reference internal" href="#solution-to-exercise-7">13.2.1. Solution to Exercise 7</a></li>
<li><a class="reference internal" href="#solution-to-exercise-8">13.2.2. Solution to Exercise 8</a></li>
<li><a class="reference internal" href="#solution-to-exercise-9">13.2.3. Solution to Exercise 9</a></li>
<li><a class="reference internal" href="#solution-to-exercise-10">13.2.4. Solution to Exercise 10</a></li>
<li><a class="reference internal" href="#solution-to-exercise-11">13.2.5. Solution to Exercise 11</a></li>
</ul>
</li>
<li><a class="reference internal" href="#solutions-to-writing-a-sql-stored-procedures-chapter">13.3. Solutions to <code class="docutils literal notranslate"><span class="pre">Writing</span> <span class="pre">a</span> <span class="pre">SQL</span> <span class="pre">Stored</span> <span class="pre">Procedures</span></code> Chapter</a><ul>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-1">13.3.1. Solution to Chapter 7 Exercise 1</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-2">13.3.2. Solution to Chapter 7 Exercise 2</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-3">13.3.3. Solution to Chapter 7 Exercise 3</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-4">13.3.4. Solution to Chapter 7 Exercise 4</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-5">13.3.5. Solution to Chapter 7 Exercise 5</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-6">13.3.6. Solution to Chapter 7 Exercise 6</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-7">13.3.7. Solution to Chapter 7 Exercise 7</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-8">13.3.8. Solution to Chapter 7 Exercise 8</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-9">13.3.9. Solution to Chapter 7 Exercise 9</a></li>
<li><a class="reference internal" href="#solution-to-chapter-7-exercise-10">13.3.10. Solution to Chapter 7 Exercise 10</a></li>
</ul>
</li>
<li><a class="reference internal" href="#solutions-to-writing-a-pl-pgsql-stored-procedures-chapter">13.4. Solutions to <code class="docutils literal notranslate"><span class="pre">Writing</span> <span class="pre">a</span> <span class="pre">pl/pgsql</span> <span class="pre">Stored</span> <span class="pre">Procedures</span></code> Chapter</a><ul>
<li><a class="reference internal" href="#solution-to-chapter-8-exercise-1">13.4.1. Solution to Chapter 8 Exercise 1</a></li>
<li><a class="reference internal" href="#solution-to-chapter-8-exercise-2">13.4.2. Solution to Chapter 8 Exercise 2</a></li>
<li><a class="reference internal" href="#solution-to-chapter-8-exercise-3">13.4.3. Solution to Chapter 8 Exercise 3</a></li>
<li><a class="reference internal" href="#solution-to-chapter-8-exercise-4">13.4.4. Solution to Chapter 8 Exercise 4</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="topology.html" title="Previous Chapter: 12. Create a Network Topology"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 12. Create a ...</span>
    </a>
  </li>
  <li>
    <a href="additional_installation.html" title="Next Chapter: 14. Appendix: Installation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">14. Appendix:... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="appendix-workshop-solutions">
<span id="solutions"></span><h1>13. Appendix: Workshop Solutions<a class="headerlink" href="#appendix-workshop-solutions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="pgrouting-algorithms-solutions">
<h2>13.1. <a class="reference internal" href="shortest_path.html#pgrouting-algorithms"><span class="std std-ref">pgRouting Algorithms</span></a> Solutions<a class="headerlink" href="#pgrouting-algorithms-solutions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="solution-to-exercise-1">
<h3>13.1.1. Solution to Exercise 1<a class="headerlink" href="#solution-to-exercise-1" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="shortest_path.html#exercise-d-1"><span class="std std-ref">Exercise 1</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>        <span class="n">cost</span>         <span class="o">|</span>      <span class="n">agg_cost</span>       
<span class="o">-----+----------+------+------+---------------------+---------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="mf">0.00203726472015596</span> <span class="o">|</span>                   <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">2044</span> <span class="o">|</span> <span class="mf">0.00195102527671287</span> <span class="o">|</span> <span class="mf">0.00203726472015596</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span> <span class="mi">1713</span> <span class="o">|</span> <span class="mi">1989</span> <span class="o">|</span> <span class="mf">0.00141014024221734</span> <span class="o">|</span> <span class="mf">0.00398828999686883</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                   <span class="mi">0</span> <span class="o">|</span> <span class="mf">0.00539843023908617</span>
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-2">
<h3>13.1.2. Solution to Exercise 2<a class="headerlink" href="#solution-to-exercise-2" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="shortest_path.html#exercise-d-2"><span class="std std-ref">Exercise 2</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">start_vid</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>       <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+-----------+------+------+------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="mf">225.258862979722</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span> <span class="mf">211.661459249381</span> <span class="o">|</span> <span class="mf">225.258862979722</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span> <span class="mi">1156</span> <span class="o">|</span> <span class="mf">217.965421167396</span> <span class="o">|</span> <span class="mf">436.920322229102</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1361</span> <span class="o">|</span> <span class="mi">1638</span> <span class="o">|</span> <span class="mf">120.209032368071</span> <span class="o">|</span> <span class="mf">654.885743396498</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span> <span class="mf">158.953675313931</span> <span class="o">|</span> <span class="mf">775.094775764569</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span> <span class="mf">167.449458836267</span> <span class="o">|</span>   <span class="mf">934.0484510785</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">1101.49790991477</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1761</span> <span class="o">|</span> <span class="mf">265.567165528973</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">9</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span> <span class="mf">158.953675313931</span> <span class="o">|</span> <span class="mf">265.567165528973</span>
  <span class="mi">10</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span> <span class="mf">167.449458836267</span> <span class="o">|</span> <span class="mf">424.520840842905</span>
  <span class="mi">11</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">591.970299679172</span>
<span class="p">(</span><span class="mi">11</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-3">
<h3>13.1.3. Solution to Exercise 3<a class="headerlink" href="#solution-to-exercise-3" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="shortest_path.html#exercise-d-3"><span class="std std-ref">Exercise 3</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">end_vid</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>       <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+---------+------+------+------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span> <span class="mf">128.807276027898</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span> <span class="mf">122.272057933793</span> <span class="o">|</span> <span class="mf">128.807276027898</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">1638</span> <span class="o">|</span> <span class="mf">92.4684864369775</span> <span class="o">|</span> <span class="mf">251.079333961691</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1361</span> <span class="o">|</span> <span class="mi">1156</span> <span class="o">|</span> <span class="mf">167.665708590305</span> <span class="o">|</span> <span class="mf">343.547820398669</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span> <span class="mf">162.816507114908</span> <span class="o">|</span> <span class="mf">511.213528988973</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span>  <span class="mf">173.27604844594</span> <span class="o">|</span> <span class="mf">674.030036103881</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>    <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">847.306084549821</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span> <span class="mf">128.807276027898</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">9</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>    <span class="mi">1661</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span> <span class="mf">122.272057933793</span> <span class="o">|</span> <span class="mf">128.807276027898</span>
  <span class="mi">10</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>    <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">1761</span> <span class="o">|</span> <span class="mf">204.282435022287</span> <span class="o">|</span> <span class="mf">251.079333961691</span>
  <span class="mi">11</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>    <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">455.361768983978</span>
<span class="p">(</span><span class="mi">11</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-4">
<h3>13.1.4. Solution to Exercise 4<a class="headerlink" href="#solution-to-exercise-4" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="shortest_path.html#exercise-d-4"><span class="std std-ref">Exercise 4</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">start_vid</span> <span class="o">|</span> <span class="n">end_vid</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+-----------+---------+------+------+-------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span>  <span class="mf">2.88793414076566</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span>  <span class="mf">2.71360845191514</span> <span class="o">|</span> <span class="mf">2.88793414076566</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span> <span class="mi">1157</span> <span class="o">|</span>  <span class="mf">2.09983765887622</span> <span class="o">|</span>  <span class="mf">5.6015425926808</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1897</span> <span class="o">|</span> <span class="mi">2255</span> <span class="o">|</span>  <span class="mf">1.91356518477422</span> <span class="o">|</span> <span class="mf">7.70138025155702</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1477</span> <span class="o">|</span> <span class="mi">3341</span> <span class="o">|</span>  <span class="mf">2.45447687938298</span> <span class="o">|</span> <span class="mf">9.61494543633124</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">368</span> <span class="o">|</span> <span class="mi">1754</span> <span class="o">|</span>  <span class="mf">2.13676131594056</span> <span class="o">|</span> <span class="mf">12.0694223157142</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1461</span> <span class="o">|</span> <span class="mi">1755</span> <span class="o">|</span>  <span class="mf">1.71804746216162</span> <span class="o">|</span> <span class="mf">14.2061836316548</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1070</span> <span class="o">|</span> <span class="mi">1296</span> <span class="o">|</span>  <span class="mf">1.29698598632806</span> <span class="o">|</span> <span class="mf">15.9242310938164</span>
   <span class="mi">9</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1659</span> <span class="o">|</span> <span class="mi">1525</span> <span class="o">|</span> <span class="mf">0.416463263772614</span> <span class="o">|</span> <span class="mf">17.2212170801445</span>
  <span class="mi">10</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1267</span> <span class="o">|</span> <span class="mi">2667</span> <span class="o">|</span>  <span class="mf">0.71458770101113</span> <span class="o">|</span> <span class="mf">17.6376803439171</span>
  <span class="mi">11</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">2253</span> <span class="o">|</span>  <span class="mi">530</span> <span class="o">|</span> <span class="mf">0.305281604994012</span> <span class="o">|</span> <span class="mf">18.3522680449282</span>
  <span class="mi">12</span> <span class="o">|</span>       <span class="mi">12</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">450</span> <span class="o">|</span> <span class="mi">2047</span> <span class="o">|</span> <span class="mf">0.640502762968939</span> <span class="o">|</span> <span class="mf">18.6575496499222</span>
  <span class="mi">13</span> <span class="o">|</span>       <span class="mi">13</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1715</span> <span class="o">|</span> <span class="mi">3305</span> <span class="o">|</span>  <span class="mf">2.43553647686408</span> <span class="o">|</span> <span class="mf">19.2980524128912</span>
  <span class="mi">14</span> <span class="o">|</span>       <span class="mi">14</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">135</span> <span class="o">|</span> <span class="mi">3598</span> <span class="o">|</span>  <span class="mf">2.02572210685056</span> <span class="o">|</span> <span class="mf">21.7335888897552</span>
  <span class="mi">15</span> <span class="o">|</span>       <span class="mi">15</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">2091</span> <span class="o">|</span> <span class="mi">2487</span> <span class="o">|</span>  <span class="mf">3.01748018392712</span> <span class="o">|</span> <span class="mf">23.7593109966058</span>
  <span class="mi">16</span> <span class="o">|</span>       <span class="mi">16</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">115</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">26.7767911805329</span>
  <span class="mi">17</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span>  <span class="mf">2.88793414076566</span> <span class="o">|</span>                <span class="mi">0</span>
  <span class="mi">18</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span>  <span class="mf">2.71360845191514</span> <span class="o">|</span> <span class="mf">2.88793414076566</span>
  <span class="mi">19</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span> <span class="mi">1156</span> <span class="o">|</span>  <span class="mf">2.79442847650508</span> <span class="o">|</span>  <span class="mf">5.6015425926808</span>
  <span class="mi">20</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1361</span> <span class="o">|</span> <span class="mi">1638</span> <span class="o">|</span>  <span class="mf">1.54114144061629</span> <span class="o">|</span> <span class="mf">8.39597106918587</span>
  <span class="mi">21</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span>  <span class="mf">2.03786763222989</span> <span class="o">|</span> <span class="mf">9.93711250980217</span>
  <span class="mi">22</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span>   <span class="mf">2.1467879337983</span> <span class="o">|</span> <span class="mf">11.9749801420321</span>
  <span class="mi">23</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">14.1217680758304</span>
  <span class="mi">24</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1761</span> <span class="o">|</span>  <span class="mf">3.40470725037145</span> <span class="o">|</span>                <span class="mi">0</span>
  <span class="mi">25</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span>  <span class="mf">2.03786763222989</span> <span class="o">|</span> <span class="mf">3.40470725037145</span>
  <span class="mi">26</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">3693</span> <span class="o">|</span>  <span class="mf">1.93508343932859</span> <span class="o">|</span> <span class="mf">5.44257488260134</span>
  <span class="mi">27</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">2759</span> <span class="o">|</span> <span class="mi">1987</span> <span class="o">|</span>  <span class="mf">3.66361602123479</span> <span class="o">|</span> <span class="mf">7.37765832192994</span>
  <span class="mi">28</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1659</span> <span class="o">|</span> <span class="mi">1525</span> <span class="o">|</span> <span class="mf">0.416463263772614</span> <span class="o">|</span> <span class="mf">11.0412743431647</span>
  <span class="mi">29</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1267</span> <span class="o">|</span> <span class="mi">2667</span> <span class="o">|</span>  <span class="mf">0.71458770101113</span> <span class="o">|</span> <span class="mf">11.4577376069373</span>
  <span class="mi">30</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">2253</span> <span class="o">|</span>  <span class="mi">530</span> <span class="o">|</span> <span class="mf">0.305281604994012</span> <span class="o">|</span> <span class="mf">12.1723253079485</span>
  <span class="mi">31</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">450</span> <span class="o">|</span> <span class="mi">2047</span> <span class="o">|</span> <span class="mf">0.640502762968939</span> <span class="o">|</span> <span class="mf">12.4776069129425</span>
  <span class="mi">32</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">1715</span> <span class="o">|</span> <span class="mi">3305</span> <span class="o">|</span>  <span class="mf">2.43553647686408</span> <span class="o">|</span> <span class="mf">13.1181096759114</span>
  <span class="mi">33</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">135</span> <span class="o">|</span> <span class="mi">3598</span> <span class="o">|</span>  <span class="mf">2.02572210685056</span> <span class="o">|</span> <span class="mf">15.5536461527755</span>
  <span class="mi">34</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mi">2091</span> <span class="o">|</span> <span class="mi">2487</span> <span class="o">|</span>  <span class="mf">3.01748018392712</span> <span class="o">|</span> <span class="mf">17.5793682596261</span>
  <span class="mi">35</span> <span class="o">|</span>       <span class="mi">12</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span>  <span class="mi">115</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">20.5968484435532</span>
  <span class="mi">36</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1761</span> <span class="o">|</span>  <span class="mf">3.40470725037145</span> <span class="o">|</span>                <span class="mi">0</span>
  <span class="mi">37</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1466</span> <span class="o">|</span> <span class="mi">2948</span> <span class="o">|</span>  <span class="mf">2.03786763222989</span> <span class="o">|</span> <span class="mf">3.40470725037145</span>
  <span class="mi">38</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span>   <span class="mf">2.1467879337983</span> <span class="o">|</span> <span class="mf">5.44257488260134</span>
  <span class="mi">39</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span>      <span class="mi">1661</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">7.58936281639964</span>
<span class="p">(</span><span class="mi">39</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-5">
<h3>13.1.5. Solution to Exercise 5<a class="headerlink" href="#solution-to-exercise-5" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="shortest_path.html#exercise-d-5"><span class="std std-ref">Exercise 5</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">start_vid</span> <span class="o">|</span> <span class="n">end_vid</span> <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----------+---------+------------------</span>
      <span class="mi">1060</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mf">26.7767911805329</span>
      <span class="mi">1060</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mf">14.1217680758304</span>
      <span class="mi">1661</span> <span class="o">|</span>     <span class="mi">115</span> <span class="o">|</span> <span class="mf">20.5968484435532</span>
      <span class="mi">1661</span> <span class="o">|</span>    <span class="mi">1253</span> <span class="o">|</span> <span class="mf">7.58936281639964</span>
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-6">
<h3>13.1.6. Solution to Exercise 6<a class="headerlink" href="#solution-to-exercise-6" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="shortest_path.html#exercise-d-6"><span class="std std-ref">Exercise 6</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">end_vid</span> <span class="o">|</span>       <span class="nb">sum</span>        
<span class="o">---------+------------------</span>
     <span class="mi">115</span> <span class="o">|</span> <span class="mf">47.3736396240861</span>
    <span class="mi">1253</span> <span class="o">|</span>   <span class="mf">21.71113089223</span>
<span class="p">(</span><span class="mi">2</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-routing-queries-solutions">
<h2>13.2. <a class="reference internal" href="advanced.html#advanced-routing-queries"><span class="std std-ref">Advanced Routing Queries</span></a> Solutions<a class="headerlink" href="#advanced-routing-queries-solutions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="solution-to-exercise-7">
<h3>13.2.1. Solution to Exercise 7<a class="headerlink" href="#solution-to-exercise-7" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="advanced.html#exercise-7"><span class="std std-ref">Exercise 7</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>       <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+------+------+------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span>   <span class="mf">16.21863813454</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span> <span class="mf">15.2396250659554</span> <span class="o">|</span>   <span class="mf">16.21863813454</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span> <span class="mi">1157</span> <span class="o">|</span> <span class="mf">11.7926882922489</span> <span class="o">|</span> <span class="mf">31.4582632004954</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1897</span> <span class="o">|</span> <span class="mi">2255</span> <span class="o">|</span>  <span class="mf">10.746582077692</span> <span class="o">|</span> <span class="mf">43.2509514927442</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span> <span class="mi">1477</span> <span class="o">|</span> <span class="mi">3341</span> <span class="o">|</span> <span class="mf">13.7843421546148</span> <span class="o">|</span> <span class="mf">53.9975335704362</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>  <span class="mi">368</span> <span class="o">|</span> <span class="mi">1754</span> <span class="o">|</span> <span class="mf">12.0000515503222</span> <span class="o">|</span> <span class="mf">67.7818757250511</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span> <span class="mi">1461</span> <span class="o">|</span> <span class="mi">1755</span> <span class="o">|</span> <span class="mf">9.64855454749966</span> <span class="o">|</span> <span class="mf">79.7819272753732</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span> <span class="mi">1070</span> <span class="o">|</span> <span class="mi">1296</span> <span class="o">|</span> <span class="mf">7.28387329921837</span> <span class="o">|</span> <span class="mf">89.4304818228729</span>
   <span class="mi">9</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span> <span class="mi">1659</span> <span class="o">|</span> <span class="mi">1525</span> <span class="o">|</span>   <span class="mf">2.338857689347</span> <span class="o">|</span> <span class="mf">96.7143551220913</span>
  <span class="mi">10</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span> <span class="mi">1267</span> <span class="o">|</span> <span class="mi">2667</span> <span class="o">|</span> <span class="mf">4.01312452887851</span> <span class="o">|</span> <span class="mf">99.0532128114383</span>
  <span class="mi">11</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span> <span class="mi">2253</span> <span class="o">|</span>  <span class="mi">530</span> <span class="o">|</span> <span class="mf">1.71446149364637</span> <span class="o">|</span> <span class="mf">103.066337340317</span>
  <span class="mi">12</span> <span class="o">|</span>       <span class="mi">12</span> <span class="o">|</span>  <span class="mi">450</span> <span class="o">|</span> <span class="mi">2047</span> <span class="o">|</span> <span class="mf">3.59706351683356</span> <span class="o">|</span> <span class="mf">104.780798833963</span>
  <span class="mi">13</span> <span class="o">|</span>       <span class="mi">13</span> <span class="o">|</span> <span class="mi">1715</span> <span class="o">|</span> <span class="mi">3305</span> <span class="o">|</span> <span class="mf">13.6779728540687</span> <span class="o">|</span> <span class="mf">108.377862350797</span>
  <span class="mi">14</span> <span class="o">|</span>       <span class="mi">14</span> <span class="o">|</span>  <span class="mi">135</span> <span class="o">|</span> <span class="mi">3598</span> <span class="o">|</span> <span class="mf">11.3764553520728</span> <span class="o">|</span> <span class="mf">122.055835204865</span>
  <span class="mi">15</span> <span class="o">|</span>       <span class="mi">15</span> <span class="o">|</span> <span class="mi">2091</span> <span class="o">|</span> <span class="mi">2487</span> <span class="o">|</span> <span class="mf">16.9461687129347</span> <span class="o">|</span> <span class="mf">133.432290556938</span>
  <span class="mi">16</span> <span class="o">|</span>       <span class="mi">16</span> <span class="o">|</span>  <span class="mi">115</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">150.378459269873</span>
<span class="p">(</span><span class="mi">16</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-8">
<h3>13.2.2. Solution to Exercise 8<a class="headerlink" href="#solution-to-exercise-8" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="advanced.html#exercise-8"><span class="std std-ref">Exercise 8</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>       <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+------+------+------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>  <span class="mi">115</span> <span class="o">|</span> <span class="mi">2487</span> <span class="o">|</span> <span class="mf">16.9461687129347</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">2091</span> <span class="o">|</span> <span class="mi">3598</span> <span class="o">|</span> <span class="mf">11.3764553520728</span> <span class="o">|</span> <span class="mf">16.9461687129347</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">135</span> <span class="o">|</span> <span class="mi">3305</span> <span class="o">|</span> <span class="mf">13.6779728540687</span> <span class="o">|</span> <span class="mf">28.3226240650075</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1715</span> <span class="o">|</span> <span class="mi">2047</span> <span class="o">|</span> <span class="mf">3.59706351683356</span> <span class="o">|</span> <span class="mf">42.0005969190761</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>  <span class="mi">450</span> <span class="o">|</span>  <span class="mi">529</span> <span class="o">|</span> <span class="mf">7.62056168933039</span> <span class="o">|</span> <span class="mf">45.5976604359097</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>  <span class="mi">641</span> <span class="o">|</span>  <span class="mi">757</span> <span class="o">|</span> <span class="mf">5.02090630047807</span> <span class="o">|</span> <span class="mf">53.2182221252401</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>  <span class="mi">402</span> <span class="o">|</span> <span class="mi">4085</span> <span class="o">|</span> <span class="mf">8.38742205443017</span> <span class="o">|</span> <span class="mf">58.2391284257181</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span> <span class="mi">3940</span> <span class="o">|</span> <span class="mi">5616</span> <span class="o">|</span>  <span class="mf">2.4740977338142</span> <span class="o">|</span> <span class="mf">66.6265504801483</span>
   <span class="mi">9</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span>  <span class="mi">388</span> <span class="o">|</span> <span class="mi">3343</span> <span class="o">|</span> <span class="mf">9.13457674041318</span> <span class="o">|</span> <span class="mf">69.1006482139625</span>
  <span class="mi">10</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span> <span class="mi">1889</span> <span class="o">|</span> <span class="mi">3568</span> <span class="o">|</span> <span class="mf">1.86833722718625</span> <span class="o">|</span> <span class="mf">78.2352249543757</span>
  <span class="mi">11</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span> <span class="mi">2307</span> <span class="o">|</span> <span class="mi">3733</span> <span class="o">|</span> <span class="mf">6.14055277216272</span> <span class="o">|</span> <span class="mf">80.1035621815619</span>
  <span class="mi">12</span> <span class="o">|</span>       <span class="mi">12</span> <span class="o">|</span> <span class="mi">2877</span> <span class="o">|</span> <span class="mi">3732</span> <span class="o">|</span> <span class="mf">10.4943852265419</span> <span class="o">|</span> <span class="mf">86.2441149537247</span>
  <span class="mi">13</span> <span class="o">|</span>       <span class="mi">13</span> <span class="o">|</span> <span class="mi">1477</span> <span class="o">|</span> <span class="mi">2255</span> <span class="o">|</span>  <span class="mf">10.746582077692</span> <span class="o">|</span> <span class="mf">96.7385001802666</span>
  <span class="mi">14</span> <span class="o">|</span>       <span class="mi">14</span> <span class="o">|</span> <span class="mi">1897</span> <span class="o">|</span> <span class="mi">1157</span> <span class="o">|</span> <span class="mf">11.7926882922489</span> <span class="o">|</span> <span class="mf">107.485082257959</span>
  <span class="mi">15</span> <span class="o">|</span>       <span class="mi">15</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span> <span class="mf">15.2396250659554</span> <span class="o">|</span> <span class="mf">119.277770550207</span>
  <span class="mi">16</span> <span class="o">|</span>       <span class="mi">16</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span>   <span class="mf">16.21863813454</span> <span class="o">|</span> <span class="mf">134.517395616163</span>
  <span class="mi">17</span> <span class="o">|</span>       <span class="mi">17</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">150.736033750703</span>
<span class="p">(</span><span class="mi">17</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-9">
<h3>13.2.3. Solution to Exercise 9<a class="headerlink" href="#solution-to-exercise-9" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="advanced.html#exercise-9"><span class="std std-ref">Exercise 9</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>        <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>      
<span class="o">-----+----------+------+------+--------------------+-------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span>  <span class="mi">115</span> <span class="o">|</span> <span class="mi">2487</span> <span class="o">|</span>  <span class="mf">0.470726908692631</span> <span class="o">|</span>                 <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">2091</span> <span class="o">|</span> <span class="mi">3598</span> <span class="o">|</span>  <span class="mf">0.316012648668688</span> <span class="o">|</span> <span class="mf">0.470726908692631</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">135</span> <span class="o">|</span> <span class="mi">3305</span> <span class="o">|</span>  <span class="mf">0.379943690390796</span> <span class="o">|</span> <span class="mf">0.786739557361319</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1715</span> <span class="o">|</span> <span class="mi">2047</span> <span class="o">|</span> <span class="mf">0.0999184310231545</span> <span class="o">|</span>  <span class="mf">1.16668324775211</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span>  <span class="mi">450</span> <span class="o">|</span>  <span class="mi">529</span> <span class="o">|</span>  <span class="mf">0.211682269148066</span> <span class="o">|</span>  <span class="mf">1.26660167877527</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>  <span class="mi">641</span> <span class="o">|</span>  <span class="mi">757</span> <span class="o">|</span>  <span class="mf">0.139469619457724</span> <span class="o">|</span>  <span class="mf">1.47828394792334</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span>  <span class="mi">402</span> <span class="o">|</span> <span class="mi">4085</span> <span class="o">|</span>  <span class="mf">0.232983945956394</span> <span class="o">|</span>  <span class="mf">1.61775356738106</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span> <span class="mi">3940</span> <span class="o">|</span> <span class="mi">5616</span> <span class="o">|</span> <span class="mf">0.0687249370503943</span> <span class="o">|</span>  <span class="mf">1.85073751333745</span>
   <span class="mi">9</span> <span class="o">|</span>        <span class="mi">9</span> <span class="o">|</span>  <span class="mi">388</span> <span class="o">|</span> <span class="mi">3343</span> <span class="o">|</span>  <span class="mf">0.253738242789255</span> <span class="o">|</span>  <span class="mf">1.91946245038785</span>
  <span class="mi">10</span> <span class="o">|</span>       <span class="mi">10</span> <span class="o">|</span> <span class="mi">1889</span> <span class="o">|</span> <span class="mi">3568</span> <span class="o">|</span> <span class="mf">0.0518982563107291</span> <span class="o">|</span>   <span class="mf">2.1732006931771</span>
  <span class="mi">11</span> <span class="o">|</span>       <span class="mi">11</span> <span class="o">|</span> <span class="mi">2307</span> <span class="o">|</span> <span class="mi">3733</span> <span class="o">|</span>  <span class="mf">0.170570910337853</span> <span class="o">|</span>  <span class="mf">2.22509894948783</span>
  <span class="mi">12</span> <span class="o">|</span>       <span class="mi">12</span> <span class="o">|</span> <span class="mi">2877</span> <span class="o">|</span> <span class="mi">3732</span> <span class="o">|</span>  <span class="mf">0.291510700737276</span> <span class="o">|</span>  <span class="mf">2.39566985982569</span>
  <span class="mi">13</span> <span class="o">|</span>       <span class="mi">13</span> <span class="o">|</span> <span class="mi">1477</span> <span class="o">|</span> <span class="mi">2255</span> <span class="o">|</span>  <span class="mf">0.298516168824778</span> <span class="o">|</span>  <span class="mf">2.68718056056296</span>
  <span class="mi">14</span> <span class="o">|</span>       <span class="mi">14</span> <span class="o">|</span> <span class="mi">1897</span> <span class="o">|</span> <span class="mi">1157</span> <span class="o">|</span>  <span class="mf">0.327574674784691</span> <span class="o">|</span>  <span class="mf">2.98569672938774</span>
  <span class="mi">15</span> <span class="o">|</span>       <span class="mi">15</span> <span class="o">|</span>  <span class="mi">961</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span>  <span class="mf">0.423322918498761</span> <span class="o">|</span>  <span class="mf">3.31327140417243</span>
  <span class="mi">16</span> <span class="o">|</span>       <span class="mi">16</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span>  <span class="mf">0.450517725959443</span> <span class="o">|</span>  <span class="mf">3.73659432267119</span>
  <span class="mi">17</span> <span class="o">|</span>       <span class="mi">17</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                  <span class="mi">0</span> <span class="o">|</span>  <span class="mf">4.18711204863063</span>
<span class="p">(</span><span class="mi">17</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-10">
<h3>13.2.4. Solution to Exercise 10<a class="headerlink" href="#solution-to-exercise-10" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="advanced.html#exercise-10"><span class="std std-ref">Exercise 10</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">TABLE</span>
<span class="n">UPDATE</span> <span class="mi">36</span>
 <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>       <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+------+------+------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span> <span class="mf">12.0563610362112</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">3693</span> <span class="o">|</span> <span class="mf">10.8674285952694</span> <span class="o">|</span> <span class="mf">12.0563610362112</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span> <span class="mi">2759</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                <span class="mi">0</span> <span class="o">|</span> <span class="mf">22.9237896314806</span>
<span class="p">(</span><span class="mi">3</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-exercise-11">
<h3>13.2.5. Solution to Exercise 11<a class="headerlink" href="#solution-to-exercise-11" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="advanced.html#exercise-11"><span class="std std-ref">Exercise 11</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>     
<span class="o">-----+----------+------+------+-------------------+------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1253</span> <span class="o">|</span> <span class="mi">2947</span> <span class="o">|</span>  <span class="mf">6.02818051810562</span> <span class="o">|</span>                <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">2486</span> <span class="o">|</span> <span class="mi">3536</span> <span class="o">|</span>  <span class="mf">4.39092341742284</span> <span class="o">|</span> <span class="mf">6.02818051810562</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span> <span class="mi">1636</span> <span class="o">|</span> <span class="mi">3571</span> <span class="o">|</span>  <span class="mf">7.72021374468571</span> <span class="o">|</span> <span class="mf">10.4191039355285</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1897</span> <span class="o">|</span> <span class="mi">2255</span> <span class="o">|</span>  <span class="mf">3.22397462330761</span> <span class="o">|</span> <span class="mf">18.1393176802142</span>
   <span class="mi">5</span> <span class="o">|</span>        <span class="mi">5</span> <span class="o">|</span> <span class="mi">1477</span> <span class="o">|</span> <span class="mi">3341</span> <span class="o">|</span>  <span class="mf">6.89217107730741</span> <span class="o">|</span> <span class="mf">21.3632923035218</span>
   <span class="mi">6</span> <span class="o">|</span>        <span class="mi">6</span> <span class="o">|</span>  <span class="mi">368</span> <span class="o">|</span> <span class="mi">3602</span> <span class="o">|</span> <span class="mf">0.953512053439165</span> <span class="o">|</span> <span class="mf">28.2554633808292</span>
   <span class="mi">7</span> <span class="o">|</span>        <span class="mi">7</span> <span class="o">|</span> <span class="mi">2117</span> <span class="o">|</span> <span class="mi">3692</span> <span class="o">|</span>   <span class="mf">4.2974761211037</span> <span class="o">|</span> <span class="mf">29.2089754342683</span>
   <span class="mi">8</span> <span class="o">|</span>        <span class="mi">8</span> <span class="o">|</span> <span class="mi">2759</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">33.5064515553721</span>
<span class="p">(</span><span class="mi">8</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<div class="section" id="solutions-to-writing-a-sql-stored-procedures-chapter">
<h2>13.3. Solutions to <a class="reference internal" href="SQLfunction.html#writing-a-sql-stored-procedures"><span class="std std-ref">Writing a SQL Stored Procedures</span></a> Chapter<a class="headerlink" href="#solutions-to-writing-a-sql-stored-procedures-chapter" title="Permalink to this headline">¶</a></h2>
<div class="section" id="solution-to-chapter-7-exercise-1">
<h3>13.3.1. Solution to Chapter 7 Exercise 1<a class="headerlink" href="#solution-to-chapter-7-exercise-1" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e1"><span class="std std-ref">Exercise 1</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">VIEW</span>
 <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">5650</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

 <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">3775</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-2">
<h3>13.3.2. Solution to Chapter 7 Exercise 2<a class="headerlink" href="#solution-to-chapter-7-exercise-2" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e2"><span class="std std-ref">Exercise 2</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">VIEW</span>
 <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">1881</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-3">
<h3>13.3.3. Solution to Chapter 7 Exercise 3<a class="headerlink" href="#solution-to-chapter-7-exercise-3" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e3"><span class="std std-ref">Exercise 3</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>      
<span class="o">-----+----------+------+------+-------------------+-------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1989</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span>                 <span class="mi">0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">1713</span> <span class="o">|</span> <span class="mi">2044</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">0.445960413278709</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">0.716271048854375</span>
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-4">
<h3>13.3.4. Solution to Chapter 7 Exercise 4<a class="headerlink" href="#solution-to-chapter-7-exercise-4" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e4"><span class="std std-ref">Exercise 4</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>      <span class="o">|</span>     <span class="n">name</span>     
<span class="o">-----+----------+------+------+-------------------+-------------------+--------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1989</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">1713</span> <span class="o">|</span> <span class="mi">2044</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">0.445960413278709</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">0.716271048854375</span> <span class="o">|</span> 
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-5">
<h3>13.3.5. Solution to Chapter 7 Exercise 5<a class="headerlink" href="#solution-to-chapter-7-exercise-5" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e5"><span class="std std-ref">Exercise 5</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>      <span class="o">|</span>     <span class="n">name</span>     <span class="o">|</span>                                              <span class="n">st_astext</span>                                              
<span class="o">-----+----------+------+------+-------------------+-------------------+--------------+-----------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1989</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">,</span><span class="mf">39.2903151</span> <span class="o">-</span><span class="mf">6.8111861</span><span class="p">,</span><span class="mf">39.2904794</span> <span class="o">-</span><span class="mf">6.8109834</span><span class="p">,</span><span class="mf">39.2910718</span> <span class="o">-</span><span class="mf">6.8102817</span><span class="p">)</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">1713</span> <span class="o">|</span> <span class="mi">2044</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">,</span><span class="mf">39.2895542</span> <span class="o">-</span><span class="mf">6.8121531</span><span class="p">,</span><span class="mf">39.2902262</span> <span class="o">-</span><span class="mf">6.8115544</span><span class="p">,</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">)</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">0.445960413278709</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>  <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">,</span><span class="mf">39.2875816</span> <span class="o">-</span><span class="mf">6.8111781</span><span class="p">)</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">0.716271048854375</span> <span class="o">|</span>              <span class="o">|</span> 
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-6">
<h3>13.3.6. Solution to Chapter 7 Exercise 6<a class="headerlink" href="#solution-to-chapter-7-exercise-6" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e6"><span class="std std-ref">Exercise 6</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">path_seq</span> <span class="o">|</span> <span class="n">node</span> <span class="o">|</span> <span class="n">edge</span> <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">agg_cost</span>      <span class="o">|</span>     <span class="n">name</span>     <span class="o">|</span>                                                                         <span class="n">route_geom</span>                                                                         
<span class="o">-----+----------+------+------+-------------------+-------------------+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span>        <span class="mi">1</span> <span class="o">|</span> <span class="mi">1661</span> <span class="o">|</span> <span class="mi">1989</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000001</span><span class="n">BD47E6B27A543405061B6AEE23E1BC07A04920B29A543400FE1A991A73E1BC0B394D16D2EA543404265B26E723E1BC0D8E43AD741A543406B30687CBA3D1BC0</span>
   <span class="mi">2</span> <span class="o">|</span>        <span class="mi">2</span> <span class="o">|</span> <span class="mi">1713</span> <span class="o">|</span> <span class="mi">2044</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC0B0B5AD1C10A543404C61EF0FA53F1BC09FB8D22126A543401AB3DB1D083F1BC01BD47E6B27A543405061B6AEE23E1BC0</span>
   <span class="mi">3</span> <span class="o">|</span>        <span class="mi">3</span> <span class="o">|</span>  <span class="mi">545</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">0.445960413278709</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>  <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC037774F79CFA44340F9ECCA78A53E1BC0</span>
   <span class="mi">4</span> <span class="o">|</span>        <span class="mi">4</span> <span class="o">|</span> <span class="mi">1060</span> <span class="o">|</span>   <span class="o">-</span><span class="mi">1</span> <span class="o">|</span>                 <span class="mi">0</span> <span class="o">|</span> <span class="mf">0.716271048854375</span> <span class="o">|</span>              <span class="o">|</span> 
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-7">
<h3>13.3.7. Solution to Chapter 7 Exercise 7<a class="headerlink" href="#solution-to-chapter-7-exercise-7" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e7"><span class="std std-ref">Exercise 7</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>     <span class="n">name</span>     <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">azimuth</span>      <span class="o">|</span>                                              <span class="n">st_astext</span>                                              <span class="o">|</span>                                                                         <span class="n">route_geom</span>                                                                         
<span class="o">-----+--------------+-------------------+------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span> <span class="mf">35.5117668657488</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">,</span><span class="mf">39.2903151</span> <span class="o">-</span><span class="mf">6.8111861</span><span class="p">,</span><span class="mf">39.2904794</span> <span class="o">-</span><span class="mf">6.8109834</span><span class="p">,</span><span class="mf">39.2910718</span> <span class="o">-</span><span class="mf">6.8102817</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000001</span><span class="n">BD47E6B27A543405061B6AEE23E1BC07A04920B29A543400FE1A991A73E1BC0B394D16D2EA543404265B26E723E1BC0D8E43AD741A543406B30687CBA3D1BC0</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span> <span class="mf">46.0419321605528</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">,</span><span class="mf">39.2895542</span> <span class="o">-</span><span class="mf">6.8121531</span><span class="p">,</span><span class="mf">39.2902262</span> <span class="o">-</span><span class="mf">6.8115544</span><span class="p">,</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC0B0B5AD1C10A543404C61EF0FA53F1BC09FB8D22126A543401AB3DB1D083F1BC01BD47E6B27A543405061B6AEE23E1BC0</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>  <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">320.513109606255</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">,</span><span class="mf">39.2875816</span> <span class="o">-</span><span class="mf">6.8111781</span><span class="p">)</span>                                             <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC037774F79CFA44340F9ECCA78A53E1BC0</span>
<span class="p">(</span><span class="mi">3</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-8">
<h3>13.3.8. Solution to Chapter 7 Exercise 8<a class="headerlink" href="#solution-to-chapter-7-exercise-8" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e8"><span class="std std-ref">Exercise 8</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span>     <span class="n">name</span>     <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">azimuth</span>      <span class="o">|</span>                                              <span class="n">st_astext</span>                                              <span class="o">|</span>                                                                         <span class="n">route_geom</span>                                                                         
<span class="o">-----+--------------+-------------------+------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span> <span class="mf">215.511766865749</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2910718</span> <span class="o">-</span><span class="mf">6.8102817</span><span class="p">,</span><span class="mf">39.2904794</span> <span class="o">-</span><span class="mf">6.8109834</span><span class="p">,</span><span class="mf">39.2903151</span> <span class="o">-</span><span class="mf">6.8111861</span><span class="p">,</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E610000004000000</span><span class="n">D8E43AD741A543406B30687CBA3D1BC0B394D16D2EA543404265B26E723E1BC07A04920B29A543400FE1A991A73E1BC01BD47E6B27A543405061B6AEE23E1BC0</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span> <span class="mf">226.041932160553</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">,</span><span class="mf">39.2902262</span> <span class="o">-</span><span class="mf">6.8115544</span><span class="p">,</span><span class="mf">39.2895542</span> <span class="o">-</span><span class="mf">6.8121531</span><span class="p">,</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000001</span><span class="n">BD47E6B27A543405061B6AEE23E1BC09FB8D22126A543401AB3DB1D083F1BC0B0B5AD1C10A543404C61EF0FA53F1BC01B88C0ECF9A44340613E0FA441401BC0</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>  <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">320.513109606255</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">,</span><span class="mf">39.2875816</span> <span class="o">-</span><span class="mf">6.8111781</span><span class="p">)</span>                                             <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC037774F79CFA44340F9ECCA78A53E1BC0</span>
<span class="p">(</span><span class="mi">3</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-9">
<h3>13.3.9. Solution to Chapter 7 Exercise 9<a class="headerlink" href="#solution-to-chapter-7-exercise-9" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e9"><span class="std std-ref">Exercise 9</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-7-exercise-10">
<h3>13.3.10. Solution to Chapter 7 Exercise 10<a class="headerlink" href="#solution-to-chapter-7-exercise-10" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="SQLfunction.html#exercise-ch7-e10"><span class="std std-ref">Exercise 10</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">gid</span>  <span class="o">|</span>     <span class="n">name</span>     <span class="o">|</span>       <span class="n">cost</span>        <span class="o">|</span>     <span class="n">azimuth</span>      <span class="o">|</span>                                           <span class="n">route_readable</span>                                            <span class="o">|</span>                                                                         <span class="n">route_geom</span>                                                                         
<span class="o">-----+------+--------------+-------------------+------------------+-----------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="mi">1989</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span>  <span class="mf">0.18710649413388</span> <span class="o">|</span> <span class="mf">215.511766865749</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2910718</span> <span class="o">-</span><span class="mf">6.8102817</span><span class="p">,</span><span class="mf">39.2904794</span> <span class="o">-</span><span class="mf">6.8109834</span><span class="p">,</span><span class="mf">39.2903151</span> <span class="o">-</span><span class="mf">6.8111861</span><span class="p">,</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E610000004000000</span><span class="n">D8E43AD741A543406B30687CBA3D1BC0B394D16D2EA543404265B26E723E1BC07A04920B29A543400FE1A991A73E1BC01BD47E6B27A543405061B6AEE23E1BC0</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="mi">2044</span> <span class="o">|</span> <span class="n">Ghana</span> <span class="n">street</span> <span class="o">|</span> <span class="mf">0.258853919144829</span> <span class="o">|</span> <span class="mf">226.041932160553</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2902655</span> <span class="o">-</span><span class="mf">6.8114116</span><span class="p">,</span><span class="mf">39.2902262</span> <span class="o">-</span><span class="mf">6.8115544</span><span class="p">,</span><span class="mf">39.2895542</span> <span class="o">-</span><span class="mf">6.8121531</span><span class="p">,</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">)</span> <span class="o">|</span> <span class="mf">0102000020E6100000040000001</span><span class="n">BD47E6B27A543405061B6AEE23E1BC09FB8D22126A543401AB3DB1D083F1BC0B0B5AD1C10A543404C61EF0FA53F1BC01B88C0ECF9A44340613E0FA441401BC0</span>
   <span class="mi">3</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>  <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">320.513109606255</span> <span class="o">|</span> <span class="n">LINESTRING</span><span class="p">(</span><span class="mf">39.2888771</span> <span class="o">-</span><span class="mf">6.8127504</span><span class="p">,</span><span class="mf">39.2875816</span> <span class="o">-</span><span class="mf">6.8111781</span><span class="p">)</span>                                             <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC037774F79CFA44340F9ECCA78A53E1BC0</span>
<span class="p">(</span><span class="mi">3</span> <span class="n">rows</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<div class="section" id="solutions-to-writing-a-pl-pgsql-stored-procedures-chapter">
<h2>13.4. Solutions to <a class="reference internal" href="function.html#writing-a-pl-pgsql-stored-procedures"><span class="std std-ref">Writing a pl/pgsql Stored Procedures</span></a> Chapter<a class="headerlink" href="#solutions-to-writing-a-pl-pgsql-stored-procedures-chapter" title="Permalink to this headline">¶</a></h2>
<div class="section" id="solution-to-chapter-8-exercise-1">
<h3>13.4.1. Solution to Chapter 8 Exercise 1<a class="headerlink" href="#solution-to-chapter-8-exercise-1" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="function.html#exercise-1-number-of-vertices"><span class="std std-ref">Exercise 1: Number of Vertices</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">3962</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

 <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">2728</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

 <span class="n">count</span> 
<span class="o">-------</span>
  <span class="mi">1228</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-8-exercise-2">
<h3>13.4.2. Solution to Chapter 8 Exercise 2<a class="headerlink" href="#solution-to-chapter-8-exercise-2" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="function.html#exercise-2-nearest-vertex"><span class="std std-ref">Exercise 2: Nearest Vertex</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">osm_id</span>
<span class="o">-----------</span>
 <span class="mi">282841506</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

  <span class="n">osm_id</span>
<span class="o">-----------</span>
 <span class="mi">282841506</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

  <span class="n">osm_id</span>   
<span class="o">-----------</span>
 <span class="mi">282841506</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-8-exercise-3">
<h3>13.4.3. Solution to Chapter 8 Exercise 3<a class="headerlink" href="#solution-to-chapter-8-exercise-3" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="function.html#exercise-3-creating-the-function"><span class="std std-ref">Exercise 3: Creating the function</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
</div>
<div class="section" id="solution-to-chapter-8-exercise-4">
<h3>13.4.4. Solution to Chapter 8 Exercise 4<a class="headerlink" href="#solution-to-chapter-8-exercise-4" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="function.html#exercise-4-using-the-function"><span class="std std-ref">Exercise 4: Using the function</span></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">seq</span> <span class="o">|</span> <span class="n">gid</span>  <span class="o">|</span>     <span class="n">name</span>      <span class="o">|</span>      <span class="n">length</span>       <span class="o">|</span>     <span class="n">the_time</span>      <span class="o">|</span>     <span class="n">azimuth</span>      <span class="o">|</span>                                                            <span class="n">geom</span>                                                            
<span class="o">-----+------+---------------+-------------------+-------------------+------------------+----------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="mi">1638</span> <span class="o">|</span> <span class="n">Garden</span> <span class="n">Avenue</span> <span class="o">|</span> <span class="mf">0.120209032368071</span> <span class="o">|</span> <span class="mf">0.144250838841685</span> <span class="o">|</span> <span class="mf">231.186295092475</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BB5F05F86EA5434064AF777FBC3F1BC0353A313553A54340B58828266F401BC0</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="mi">1156</span> <span class="o">|</span> <span class="n">Garden</span> <span class="n">Avenue</span> <span class="o">|</span> <span class="mf">0.217965421167396</span> <span class="o">|</span> <span class="mf">0.261558505400875</span> <span class="o">|</span> <span class="mf">229.165120382668</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000353</span><span class="n">A313553A54340B58828266F401BC0369EBE5422A543402CE63114C1411BC0</span>
   <span class="mi">3</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>   <span class="o">|</span> <span class="mf">0.211661459249381</span> <span class="o">|</span> <span class="mf">0.253993751099257</span> <span class="o">|</span> <span class="mf">319.868106058538</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000369</span><span class="n">EBE5422A543402CE63114C1411BC0774D486B0CA54340CBD8D0CDFE401BC01B88C0ECF9A44340613E0FA441401BC0</span>
   <span class="mi">4</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>   <span class="o">|</span> <span class="mf">0.225258862979722</span> <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">320.513109606255</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC037774F79CFA44340F9ECCA78A53E1BC0</span>
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

 <span class="n">seq</span> <span class="o">|</span> <span class="n">gid</span>  <span class="o">|</span>     <span class="n">name</span>      <span class="o">|</span>      <span class="n">length</span>       <span class="o">|</span>     <span class="n">the_time</span>      <span class="o">|</span>     <span class="n">azimuth</span>      <span class="o">|</span>                                                            <span class="n">geom</span>                                                            
<span class="o">-----+------+---------------+-------------------+-------------------+------------------+----------------------------------------------------------------------------------------------------------------------------</span>
   <span class="mi">1</span> <span class="o">|</span> <span class="mi">1638</span> <span class="o">|</span> <span class="n">Garden</span> <span class="n">Avenue</span> <span class="o">|</span> <span class="mf">0.120209032368071</span> <span class="o">|</span> <span class="mf">0.144250838841685</span> <span class="o">|</span> <span class="mf">231.186295092475</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000</span><span class="n">BB5F05F86EA5434064AF777FBC3F1BC0353A313553A54340B58828266F401BC0</span>
   <span class="mi">2</span> <span class="o">|</span> <span class="mi">1156</span> <span class="o">|</span> <span class="n">Garden</span> <span class="n">Avenue</span> <span class="o">|</span> <span class="mf">0.217965421167396</span> <span class="o">|</span> <span class="mf">0.261558505400875</span> <span class="o">|</span> <span class="mf">229.165120382668</span> <span class="o">|</span> <span class="mf">0102000020E610000002000000353</span><span class="n">A313553A54340B58828266F401BC0369EBE5422A543402CE63114C1411BC0</span>
   <span class="mi">3</span> <span class="o">|</span>  <span class="mi">649</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>   <span class="o">|</span> <span class="mf">0.211661459249381</span> <span class="o">|</span> <span class="mf">0.253993751099257</span> <span class="o">|</span> <span class="mf">319.868106058538</span> <span class="o">|</span> <span class="mf">0102000020E610000003000000369</span><span class="n">EBE5422A543402CE63114C1411BC0774D486B0CA54340CBD8D0CDFE401BC01B88C0ECF9A44340613E0FA441401BC0</span>
   <span class="mi">4</span> <span class="o">|</span> <span class="mi">1285</span> <span class="o">|</span> <span class="n">Ohio</span> <span class="n">Street</span>   <span class="o">|</span> <span class="mf">0.225258862979722</span> <span class="o">|</span> <span class="mf">0.270310635575666</span> <span class="o">|</span> <span class="mf">320.513109606255</span> <span class="o">|</span> <span class="mf">0102000020E6100000020000001</span><span class="n">B88C0ECF9A44340613E0FA441401BC037774F79CFA44340F9ECCA78A53E1BC0</span>
<span class="p">(</span><span class="mi">4</span> <span class="n">rows</span><span class="p">)</span>

<span class="n">SELECT</span> <span class="mi">4</span>
</pre></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2018 Daniel Kastl, Vicky Vergara.<br/>
      Last updated on Nov 03, 2018.<br/>
    </p>
  </div>
</footer>
  </body>
</html>